<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yyf.mapper.CourseMapper">

	<select id="selectCourseByUserId" parameterType="com.yyf.entity.Relevance" resultType="int">
		SELECT COUNT(*)
		FROM GM_RELEVANCE
		LEFT JOIN GM_COURSE
		ON GM_RELEVANCE.COURSEID = GM_COURSE.ID
		WHERE GM_RELEVANCE.USERID=#{userId}
		AND COURSEID= #{courseId}
		AND TEACHERID= #{teacherId}
	</select>

	<select id="getUserByCourseId" parameterType="string" resultType="com.yyf.entity.User">
		SELECT 	GM_USER.USERNAME,
				GM_USER.IPHONE,
				GM_USER.EMAIL,
				GM_USER.SEX,
				GM_USER.REALNAME,
				GM_USER.NUMBER,
				GM_USER.CLASSS
		FROM GM_USER
		LEFT JOIN GM_RELEVANCE
		ON GM_USER.ID=GM_RELEVANCE.USERID
		LEFT JOIN GM_COURSE
		ON GM_RELEVANCE.COURSEID=GM_COURSE.ID
		WHERE GM_RELEVANCE.COURSEID= #{courseId};
	</select>
</mapper>